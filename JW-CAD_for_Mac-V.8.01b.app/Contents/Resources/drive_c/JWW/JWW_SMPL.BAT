@REM 三 斜 面 積 計 算
@REM 三 斜 計 算 (三角形の辺 200まで選択)                                 
@echo off
goto  EXE
REM
REM  ※※※　ﾊﾞｯﾁﾌｧｲﾙのREM文の内容によっては実行時にｴﾗｰになる場合があ　※※※
REM  ※※※　るので、「 goto 文 」により直接ﾌﾟﾛｸﾞﾗﾑに移行するか、    　※※※
REM  ※※※　「goto  EXE」を削除し、次行を追加して直接実行するとよい。 ※※※
REM  ※※※　「JWW_SMPL.exe /S %1 %2 %3 %4 %5 %6」  を追加           　※※※
REM  ※※※　「goto  END」                          を追加           　※※※
REM  ※※※　「:END」         をバッチファイルの最後に追加           　※※※
REM  ※※※　JWW_SMPL.BATでは追加ｵﾌﾟｼｮﾝが設定しやすいように、追加    　※※※
REM  ※※※　ｵﾌﾟｼｮﾝの説明の後に実行ﾌﾟﾛｸﾞﾗﾑを記述している。           　※※※
REM
REM  外部変形用バッチファイルのプロパティー（バッチファイルを右クリック）で
REM  「プログラム終了時にウィンドウを閉じる」を設定しておくと外部変形用バッチ
REM  ファイルの終了と同時にＪＷ＿ＷＩＮに戻る。
REM
REM
REM  バッチファイルのJW_CADが参照する内容の設定（10ﾊﾞｲﾄ以降の #* は無効）
REM
REM        ◎ＪＷ＿ＣＡＤ用外部プログラムの宣言
REM  #jw
REM                #jww : jww形式になり、次ぎの事項を書出す
REM                       文字のフォント名・文字任意サイズ寸法
REM                       ブロック基準点座標・ブロック名
REM                       寸法図形
REM
REM        ◎実行時、外部変形用バッチファイルがあるディレクトリをカレントにする
REM        （書出・読込用の"JWC_TEMP.TXT"をそのディレクトリに作る）
REM  #cd
REM
REM        ◎現在編集中のファイル名(フルパス)の書き出しを指定
REM                #hf
REM
REM        ◎データ範囲選択指定
REM                #h0:データ選択をしない、データ書き出し無し
REM  #h1           #h1:範囲内のデータのみを選択
REM                #h2:範囲内データ・範囲内外に跨る線データを選択
REM                #h3:範囲内の「文字」データのみを選択
REM                #h4:データ選択をしない、読取可能データ書き出し
REM                #h5:選択範囲に跨るデータを選択(曲線は全線選択)(未対応)
REM                    範囲選択の終点指示のときの(LL)(RR)で使用(曲線不可)
REM
REM                #hp:範囲選択データの基準点を強制的に用紙左下に設定する。
REM
REM        ◎範囲選択時にコメントを表示
REM                #hc＊＊＊＊　　:　　＊＊＊＊を表示
REM                 （１行のみ表示可、必ず「#h*」の後に続けて記載する）
REM                 （「#h0」の場合、記載してはならない）
REM  #hc 【 三 斜 計 算 】 三角形を選択（三角形の辺 200 まで）
REM
REM        ◎ブロック、曲線、寸法図形およびソリッドの消去と書出しをしない設定
REM                 (選択データを削除｢hd｣参照)
REM                #ht1   ブロックを消去しない
REM                #ht10  ブロックの消去と書出しをしない
REM                #ht2   曲線　　を消去しない
REM                #ht20  曲線　　の消去と書出しをしない
REM                #ht3   寸法図形を消去しない
REM                #ht30  寸法図形の消去と書出しをしない
REM                #ht4   ソリッドを消去しない
REM                #ht40  ソリッドの消去と書出しをしない
REM
REM        ◎データ選択のときﾚｲﾔｸﾞﾙｰﾌﾟのデータ選択指定
REM                 （必ず「#h*」または「#hc」の後に続けて記載する）
REM                #g0 (or無指定):書込ﾚｲﾔｸﾞﾙｰﾌﾟのみ選択
REM  #g0           #g1 全 ﾚｲﾔｸﾞﾙｰﾌﾟ選択                
REM
REM        ◎現在の外部変形の繰り返し指定              
REM                #hr
REM        ◎現在の外部変形終了後、別の外部変形への移行を指定
REM                #h/********.BAT
REM           （********.BATはﾊﾞｯﾁﾌｧｲﾙ名）
REM           （ﾊﾞｯﾁﾌｧｲﾙ名の後はｷｬﾘｯｼﾞﾘﾀｰﾝ又は半角ｽﾍﾟｰｽとする。）
REM
REM        ◎ﾚｲﾔｸﾞﾙｰﾌﾟ・レイヤ状態、ﾚｲﾔｸﾞﾙｰﾌﾟ名・レイヤ名の書込み
REM                #gn
REM
REM        ◎ﾊｯﾁ･図形･寸法･建具の属性を書込み
REM                #zz
REM
REM        ◎指示点の指定
REM           #0～#99の100回まで指定できる。
REM           #0を指定すると、その点がデータの原点になり、無指定のときは
REM           範囲選択データの基準点が原点になる。#0による原点の指定した
REM           場合は、「#hp」の指定は無効になる。
REM           「#*」に続けて"＊＊＊＊"を記述すると、"＊＊＊＊"が指示位置
REM           の実行時に表示される。このとき、「#*」を「#*%d」にすると
REM           表示が"[No.*]＊＊＊＊"になる。何も記載しないと
REM            "No.* 基準点を指示して下さい  (L)free  (R)Read" が表示される。
REM        ◎連続指示点の指定
REM           「#2#」～「#99#」の場合、記載した番号まで自動的に指示点の指定
REM           になる。表示は直前の点指示の表示（"＊＊＊＊"）と同じになる。
REM           この場合、［点指示終了］ボタンが表示される。
REM
REM  #0 数値書き込み位置指示 (L)free (R)Read
REM                    #1%d 始点位置指示　     (L)free (R)Read
REM                    #2%d 連続点位置指示　   (L)free (R)Read
REM                    #99#
REM
REM                    #1ln線 マウス指示  
REM                    #2ci円 マウス指示  
REM                    #3ch文 字マウス指示
REM                    #99#
REM        ◎実行時の起動オプションの指定
REM         　10回まで実行時の起動オプションの指定できる。
REM           「#c」に続けて＊＊＊＊を記述すると、＊＊＊＊が
REM           外部変形実行時に表示され、記述しないと 
REM            "[ESC] コマンド入力->"が表示される。この文の後に「/_**」
REM           を記述すると｢**｣が入力オプションの前に記載される。
REM           （オプション指定は実行プログラムにより異なる。）
REM           「#c」の変わりに「#f」を記述するとＩＭＥをONにする。
REM　　　　　　[ﾘﾀ-ﾝ]ｷｰ又は作図画面内のﾏｳｽｸﾘｯｸで起動オプションが無指定にる。
REM
REM             #f 敷　　地　　名　　称　 : /_$1"
REM             #c 番号の前に追加する文字 : /_$2"
REM  #c 初期番号指定( 1～8001  無指定:1 ) : /_/N
REM  #c レイヤ指定( 0～F 無指定:書込ﾚｲﾔ ) : /_/L
REM  #c 小数点以下有効桁数(0～3 無指定:2）: /_/K
REM
REM        ◎オプションの確認・追加を指定
REM  #c&&
REM           「#c&&」の変わりに「#f&&」を記述するとＩＭＥをONにする。
REM
REM        ◎バッチファイルによる設定終了
REM  #e
REM
REM
REM           三斜計算の場合の追加オプション(指定ﾚｲﾔに作図)
REM           /M*  :文字種類を指定、       ｢*｣ は文字種類 No (無指定:2）
REM           /T*  :三角形頂点に点を作図、 ｢*｣ は  点種類 No (無指定:1）
REM           /E*.*:三角形頂点に円を作図、 ｢*.*｣ は円半径 mm (無指定:1.0）
REM           /H*  :三角形の辺を作図、     ｢*｣ は  線色   No (無指定:1）
REM
REM           /C   :指定小数点以下桁数未満を切捨で寸法値作図 (無指定:四捨五入)
REM           /S   :敷地面積（小数点以下３桁を切捨）を作図
REM                 (記載例：JWW_SMPL.exe /C /S %1 %2 %3 %4)
REM           /?   :起動オプション表示
:EXE
JWW_SMPL.EXE /S %1 %2 %3 %4 %5 %6 %7 %8
GOTO  END


＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
　　　　　　　　　　　【外　部　変　形　機　能】

　外部変形用のバッチファイルがある場合に選択データの「外部プログラム」による変形処理ができる。
　環境設定ファイルのAUTOモードのカスタマイズクロックメニューに外部変形用のコマンド番号（[100]～[199]）を記述し、｢GCOM_100｣～｢GCOM_190｣に外部変形用バッチファイル名を記述ししておくと、AUTOモードのカスタマイズクロックメニューから最大１００種類の外部変形が直接実行できる（SAMPLE.JWF参照）。


１）バッチファイルで指定できる項目
　　「#」に続けて指定項目を記載する。（１０ﾊﾞｲﾄ以降の #* は無効）

    ◎ファイル選択時に表示される文
　　　１行目の「REM」文がファイル選択時に表示される。
REM ＊＊＊＊＊処理　　　　　　　　　　　　　　　　　　　　　　　　
REM

    ◎ＪＷ＿ＣＡＤ用外部プログラムの宣言
　　　ＪＷ＿ＣＡＤ用外部プログラムのバッチファイルには、この記述が必要。
REM #jw
REM                #jww : jww形式になり、次ぎの事項を書出す
REM                       文字のフォント名・文字任意サイズ寸法
REM                       ブロック基準点座標・ブロック名
REM                       寸法図形データ

    ◎実行時、外部変形用バッチファイルがあるディレクトリをカレントにする
    （書出・読込用の"JWC_TEMP.TXT"をそのディレクトリに作る）
REM #cd

    ◎現在編集中のファイル名(フルパス)の書き出しを指定
REM #hf

　　◎データ選択方式の指定
REM #h0               データ選択をしない、線・円・点・文字のデータ書き出し無し
REM #h1  or (無指定)  範囲内のデータのみを選択
REM #h2               範囲内データ・範囲内外に跨る線データを選択
REM #h3               範囲内の「文字」データのみを選択
REM #h4               データ選択をしない、読取可能データ全て書き出し
REM #h5               選択範囲に跨るデータを選択(曲線は全線選択)(未対応)
REM                   範囲選択の終点指示のときの(LL)(RR)で使用(曲線不可)
REM
REM #hc＊＊＊＊       範囲選択時に＊＊＊＊を1行表示
REM                 （１行のみ表示可、必ず「#h*」の後に続けて記載する）

REM #hp               範囲選択データの基準点を強制的に用紙左下に設定する。

REM #g0  or (無指定)     データ選択のとき書込ﾚｲﾔｸﾞﾙｰﾌﾟのみ選択
REM #g1                  データ選択のとき全  ﾚｲﾔｸﾞﾙｰﾌﾟ    選択

　　◎図面サイズの書き込み（用紙寸法 mm）
REM #zs

    ◎図面寸法でデータを書込み
REM #bz

    ◎現在の外部変形の繰り返し指定
REM #hr

    ◎現在の外部変形終了後、別の外部変形への移行を指定
REM #h/********.BAT
    （********.BATはﾊﾞｯﾁﾌｧｲﾙ名）                       
    （ﾊﾞｯﾁﾌｧｲﾙ名の後はｷｬﾘｯｼﾞﾘﾀｰﾝ又は半角ｽﾍﾟｰｽとする。）

    ◎ﾚｲﾔｸﾞﾙｰﾌﾟ・レイヤ名、ﾚｲﾔｸﾞﾙｰﾌﾟ・レイヤ状態の書込みを指定
　データ選択方式で指定した書込ﾚｲﾔｸﾞﾙｰﾌﾟまたは全ﾚｲﾔｸﾞﾙｰﾌﾟのﾚｲﾔｸﾞﾙｰﾌﾟ・レイヤ
名とﾚｲﾔｸﾞﾙｰﾌﾟ・レイヤ状態を書込む。
REM #gn

    ◎ﾊｯﾁ･図形･寸法･建具属性の書込みを指定
　各データのﾊｯﾁ･図形･寸法･建具属性の書込みを指定する。図形属性とﾊｯﾁ･寸法･建具
属性とが設定されているデータの場合、ﾊｯﾁより図形、図形より寸法･建具の属性が優先
されて書込む。
REM #zz

    ◎日影図計算の条件の書込みを指定
　日影コマンドで指定している緯度(度)、日赤緯(度)、測定高(ｍ)、測定時間帯番号
(0 : 8時～16時、1 : 9時～15時)の順に日影図計算の条件を書出す。
REM #zk

　　◎線幅の設定・変更の書込み・読込みを指定
REM #zw

　　◎文字基準点の書込を指定
REM #zc

　　◎指示点の指定方法
　#0～#99まで指定できる。#0を指定すると、その点がデータの原点になり、無指定の
　場合は範囲選択データの基準点が原点になる。したがって、｢REM #0｣を指定した場
　合は、｢REM #hp｣による範囲選択データの基準点を強制的に用紙左下にする設定は無
　効になる。
    ◎連続指示点の指定
 「#2#」～「#99#」の場合、記載した番号まで自動的に指示点の指定
になる。表示は直前の点指示の表示（"＊＊＊＊"）と同じになる。
この場合、右端に［点指示終了］ボタンが表示される。

REM  #0＊＊＊＊
REM  #1＊＊＊＊
     ↓
REM  #99#＊＊＊＊

＊＊＊＊を記述すると、＊＊＊＊が指示位置を指示のときに表示され、
記述しないと "基準点マウス指示 (L)free (R)Read"が表示される。

　#1～#99の点間に仮線を書くことができる。「#1-」とすると#1点とつぎの#2点の間に
仮線を書く。仮線表示のとき、標準クロックメニューの左AM１時で15度ごとの角度と任
意の角度が切り替わる。「#1-」を「#1/」にすると初期設定が15度ごとの仮線になる。
REM  #1-%d 始点位置指示　     (L)free (R)Read
REM  #2-%d 連続点位置指示　   (L)free (R)Read
REM  #99#

REM  #1- 連線　１）位置指示 (L)free (R)Read 
REM  #2- 連線　２）位置指示 (L)free (R)Read 
REM  #3  連線　３）位置指示 (L)free (R)Read 

　#1～#99による点指示のとき、線･円･文字の指定（選択）が同時に設定できる。
REM  #1ln 線 マウス指示　
REM  #2ci 円 マウス指示　
REM  #3ch 文 字マウス指示


    ◎実行時の起動オプションの指定
　10回まで実行時の起動オプションの指定できる。
REM  #c＊＊＊＊(/_**)
REM  #f＊＊＊＊(/_**)    ＩＭＥをONにして起動オプションの指定をする

＊＊＊＊を記述すると、＊＊＊＊が外部変形実行時に表示され、
記述しないと "[ESC] コマンド入力->"が表示される。この文の後に「/_**」
を記述すると｢**｣が入力オプションの前に記載される。

REM  文字列を入力し、起動オプションを指定
REM  [$%"]  % は0～9、A～Z、a～z の１バイト文字
REM  記述例
REM  $A"入力文字"
REM  #c＊＊＊＊                /_$1"
REM  #f＊＊＊＊(ＩＭＥをON)    /_$1"

「/_$1"」の場合、入力文字の後に「"」が追加され「$1"入力文字"」となる。
「"」を使用するには「\"」を入力する。

　　◎オプションの確認・追加を指定
　オプションの確認・追加を指定できる。
rem  #c&&

    ◎バッチファイルによる設定終了
REM  #e


２）書き込みデータ  　　［ JW_WIN.EXE → JWC_TEMP.TXT ］

　　◎外部ﾌﾟﾛｸﾞﾗﾑ実行チェック文字      "hq"     を書き込み
　　　戻ってきたとき、この文字があると "未実行" が表示される
hq

　　◎「REM #hf」の指定がある場合、現在編集中のファイル名(フルパス)の書き込み
file=ファイル名

　　◎軸角の書き込み
hk %lg

　　◎レイヤグループ（1～F）毎の縮尺の書き込み
hs %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg

　　◎図面サイズの書き込み（用紙寸法 mm）
      ただし、バッチファイルに｢#zs｣の記載がある場合のみ
hzs %lg %lg

    ◎レイヤグループの設定
lg%x

　　◎文字寸法等の書き込み
hcw  %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg  文字 幅 寸法  (文字種類 No1～10 )
hch  %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg  文字 高 寸法  (文字種類 No1～10 )
hcd  %lg %lg %lg %lg %lg %lg %lg %lg %lg %lg  文字間隔寸法  (文字種類 No1～10 )
hcc  %d %d %d %d %d %d %d %d %d %d            文字色(ﾍﾟﾝNo) (文字種類 No1～10 )

　　◎選択範囲の書き込み 
hn %lg %lg %lg %lg           ( x1 y1 x2 y2 )

　　◎指示点の書き込み(1～99)
　　　バッチファイルで指定した指示点を書き込む。指示点(0)は原点なのでとくに
　　　書き込まない。

hp1  %lg %lg        ( x y )
    ↓
hp9  %lg %lg

hp1- %lg %lg       （点連続線）

　　◎線･円･文字の指定（選択）のときの指示点書き込み(1～99)
hp1ln %lg %lg　　　　（ 線 ）
hp2ci %lg %lg　　　　（円弧）
hp3ch %lg %lg　　　　（文字）
　　　線･円･文字の指定（選択）は各データの前の行に
　　　線は「hhp*ln」、円弧は「hhp*ci」、文字は「hhp*ch」（*は1～99）
　　　が書き込まれる。

    ◎日影図計算の条件（バッチファイルに「REM #zk」の指定がある場合）
　　　緯度(度)、日赤緯(度)、測定高(m)、測定時間(0:8時～16時 、 1:9時～15時)
hzk 36 -23.45 4 0

    ◎レイヤグループの変更（縮尺の変更に注意）
lg%x
　　◎レイヤの設定・変更
ly%x
　　◎線色の設定・変更
lc%d
　　◎線種の設定・変更
lt%d
　　◎線幅の設定・変更（バッチファイルに「REM #zw」の指定がある場合）
　　　線幅は1/100mm単位の整数
lw%d

    ◎データが図面寸法
bz

    ◎ﾊｯﾁ･図形･寸法･建具属性（バッチファイルに「REM #zz」の指定がある場合）
　　　　次の行の線・円・実点・文字データのﾊｯﾁ･図形･寸法･建具属性を指定する。
　　　属性指定が複数の場合はz1～z4の順に指定する。ただし、JW_CADから書き込
　　　むデータは図形属性と他のひとつの属性指定のみになる。
　　　　文字ではﾊｯﾁ属性はなく、寸法属性の設定は寸法値等の文字種類とは別の指
　　　定になる。線データの包絡処理における建具としての性質をもつデータも建具
　　　属性とする。
z1     ﾊｯﾁ  属性
z2     図形 属性
z3     寸法 属性
z4     建具 属性（包絡処理対象外の指定）
z5     建具 属性（包絡処理対象  の指定）

　　◎円データ
ci %lg %lg %lg                        ( x y r )
　　◎弧・楕円データ
ci %lg %lg %lg %lg %lg %lg %lg            ( x y r 始角　終角　偏平率　軸角 )


　　◎文字種の変更（1～10）
cn%d
　　　jww形式（#jww）の場合、次ぎの※印の事項を書き出す
　　　任意サイズ文字種の書出し（幅 高さ 間隔 ペン番号）
※ cn0 %lg %lg %lg %d
　　　（jww形式の指定がない場合、任意サイズ文字種は文字幅が近似している
　　　　文字種１～10で書出す）
　　　文字フォントを書き出す
※ cn"$<ＭＳ 明朝>
　　　文字フォントと同時に斜体文字を書き出す
※ cn"$<ＭＳ 明朝>/

　　◎文字基準点の書込
　　　「REM #zc」により文字基準点の書込の指定がある場合
　　　（0:左下 1:中下 2:右下 3:左中 4:中中 5:右中 6:左上 7:中上 8:右上）
　　　（読込のとき、「cc%d」は「REM #zc」に関係なく有効になる。）
　　　（文字の座標(x y)は文字基準点の座標値になる。）
cc%d

    ◎文字列
      横文字                ( x  y  方向x 方向y "文字列  )
ch  %lg %lg %lg %lg "文字列
　　  縦文字
cv  %lg %lg %lg %lg "文字列
      寸法値 
cs  %lg %lg %lg %lg "文字列
      半径 寸法値
cr  %lg %lg %lg %lg "文字列
　　  直径 寸法値
co  %lg %lg %lg %lg "文字列
　　  角度 寸法値
cp  %lg %lg %lg %lg "文字列
　　  累寸 寸法値
ct  %lg %lg %lg %lg "文字列
　　  日影 真北データ      
ck  %lg %lg %lg %lg "文字列
　　  日影 建物高さデータ  
cz  %lg %lg %lg %lg "文字列
　　  2.5Ｄ データ         
c2  %lg %lg %lg %lg "文字列


    ◎点種の変更
pn%d

    ◎点データ
pt %lg %lg                ( x  y )

    ◎点マーカデータ
pt %lg %lg %lg %lg %d     ( x   y  倍率  角度  マーカコード)
　　　マーカコード
　　　 1:blancked arrow   2:blancked box   3:blancked dot    4:dimension origin
　　　 5:filled box       6:filled arrow   7:filled dot      8:integral symbol
　　　 9:Open Arrow      10:slash         11:unfilled arrow
　　　-1:asterisk        -2:circle        -3:dot            -4:plus
　　　-5:square          -6:triangle      -7:X
　　　縮尺変更のとき、点マーカは文字サイズ変更と同様の扱いになる。

　　◎線データ
%lg %lg %lg %lg           ( x1  y1 x2  y2 )

　　◎寸法図形データ      ( "msg" ＋ 寸法線データ ＋ 寸法値データ )
　　　jww形式の書出しの場合、寸法図形は次の形式で書き出される。
　　　jww形式以外では、寸法線と寸法値は、それぞれ独立した線データと
　　　寸法値データとして書き出される。
　　　（座標ファイルのときの寸法図形は"msg"が"msz"になる）
msg
%lg %lg %lg %lg           ( x1  y1 x2  y2 )
cs  %lg %lg %lg %lg "文字列


　　◎ブロックデータ      ( x  y  "ブロック名  )
BL %lg %lg "ブロック名
#

　　◎曲線データ
pl
%lg %lg %lg %lg           ( x1  y1 x2  y2 ) 
%lg %lg %lg %lg           ( x2  y2 x3  y3 ) 
%lg %lg %lg %lg           ( x3  y3 x4  y4 ) 
#
　　◎ソリッド図形データ
      任意色の指定(lc10 カラー値)
        カラー値 [赤(0～255)]+[緑(0～255)*256]+[青(0～255)*256*256]
       (読込時はRGB値が有効、[lc10 #]に続けて色のRGB値を16進数で記載する)
lc10 16744576

              ④┌───┐③
                │      │
              ①└───┘②
      線形のソリッド図形　（点①②の座標）
sl %lg %lg %lg %lg                   (sl x1 y1 x2 y2) 
      三角形のソリッド図形（点①②③の座標）
sl %lg %lg %lg %lg %lg %lg           (sl x1 y1 x2 y2 x3 y3) 
      四角形のソリッド図形（点①②③④の座標）
sl %lg %lg %lg %lg %lg %lg %lg %lg   (sl x1 y1 x2 y2 x3 y3 x4 y4) 
      円のソリッド図形
sc %lg %lg %lg %lg %lg %lg %lg %lg   ( x y r 偏平率 傾角 始角 円弧角 円フラグ）
#     角度の単位はラジアン、円フラグは円が「100」、弓形が「5」、扇形が「0」、
#     円外側ソリッド図形が「-1」なる。円外側のソリッド図形の円弧角はπ/2(90度)
#     以下になる（読込みのとき円弧角がπ/2を超えている場合は扇形になる）。
      円周のソリッド図形
se %lg %lg %lg %lg %lg %lg %lg %lg   ( x y r 偏平率 傾角 始角 円弧角 円フラグ）
#     角度の単位はラジアン、円フラグは円が「100」、円弧が「0」になる。
#
      円環ソリッドのデータ
so %lg %lg %lg %lg %lg %lg %lg %lg   ( x y r 偏平率 傾角 始角 円弧角 内円半径）
sg %lg %lg %lg %lg %lg %lg %lg %lg   ( x y r 偏平率 傾角 始角 円弧角 内円半径）
#  楕円のとき「so」は同一扁平率になり、「sg」は楕円同一幅の円環ソリッドになる。


    ◎「#gn」によるレイヤグループ状態、名
lg%x %d               ( %x:ﾚｲﾔｸﾞﾙｰﾌﾟ番号　%d:ﾚｲﾔｸﾞﾙｰﾌﾟ状態 )
                                          ↓
                                        ( 11:編集可能、表示状態　）
                                        ( 01:編集不可、表示状態　）
                                        ( 00:編集不可、非表示状態）
　　　　プロテクトレイヤグループは１０の位が２以上になる
　　　 　１０の位が　2 は編集不可でプロテクトレイヤ（表示・編集状態の変更可能）
　　　　　　　　　   3 は編集可能でプロテクトレイヤ（表示・編集状態の変更可能）
　　　　　　　　　　 6 は編集不可でプロテクトレイヤ（表示・編集状態の変更不可）
　　　　　　　　　　 7 は編集可能でプロテクトレイヤ（表示・編集状態の変更不可）
lgn**************
                     （**************:レイヤグループ名）

　　◎「#gn」によるレイヤ状態、名
ly%x %d               ( %x:レイヤ番号　   %d:レイヤ状態 )
                                          ( ﾚｲﾔｸﾞﾙｰﾌﾟ状態と同じ形式 )
　　　プロテクトレイヤグループは１０の位が２以上になる
                                          ( ﾚｲﾔｸﾞﾙｰﾌﾟ状態と同じ形式 )
lyn********
                 　　（********:レイヤ名）

　　◎注釈文
#



３）読み込みデータ  　　［ JWC_TEMP.TXT → JW_WIN.EXE ］

　　◎外部ﾌﾟﾛｸﾞﾗﾑ未実行の場合
hq

　　◎エラー表示（heに続く＊＊＊＊＊がエラーメッセージ）
he＊＊＊＊＊

　　◎選択データを削除
hd

    ◎現在の外部変形の繰り返しをプログラムで指定
hr
    ◎現在の外部変形終了後、別の外部変形への移行をプログラムで指定
h/********.BAT
    （********.BATはﾊﾞｯﾁﾌｧｲﾙ名）
    （ﾊﾞｯﾁﾌｧｲﾙ名の後はｷｬﾘｯｼﾞﾘﾀｰﾝ又は半角ｽﾍﾟｰｽとする。）

　　◎注意文表示（h#に続く＊＊＊＊＊が注意文）
h#＊＊＊＊＊

　　◎読み込み倍率指定
by　%lg

    ◎図面寸法でデータを読み込み
bz

    ◎図面寸法でデータを読み込み解除
b0

    ◎書込レイヤグループの変更（縮尺の変更に注意）
　　　（プロテクトレイヤグループ・プロテクトレイヤは書込状態にできない）
lg%x               ( %x:ﾚｲﾔｸﾞﾙｰﾌﾟ番号 )

    ◎書込レイヤグループの名変更
lgn**************

　　◎書込レイヤの変更
　　　（プロテクトレイヤグループ・プロテクトレイヤは書込状態にできない）
ly%x               ( %x:レイヤ番号　  )

　　◎書込レイヤの名変更
lyn********

    ◎以下の設定は書き込みデータと同じ
　　　書込線種の変更
　　　書込線色の変更
      ﾊｯﾁ･図形･寸法･建具属性指定
　　　円データ
　　　弧・楕円データ
　　　文字種の変更
　　　文字フォントと斜体文字
　　　文字基準点
　　　文字列
　　　　　横文字
　　　　　縦文字
　　　　　寸法値
　　　　　半径 寸法値
　　　　　直径 寸法値
　　　　　角度 寸法値
　　　　　累寸 寸法値
　　　　　日影 真北データ    
　　　　　日影 建物高さデータ
　　　　　2.5Ｄ データ       
　　　点種の変更
　　　点データ　
　　　線データ
　　  曲線データ
　　　寸法図形データ
　　　ソリッド図形データ


    ◎連続線データの読込み
空行
1000  1000         －始点座標(1000,1000)から終点座標(2000,1000)の線
2000  1000         ／  －始点座標(2000,1000)から終点座標(2000,2000)の線
2000  2000             ／　－始点座標(2000,2000)から終点座標(1000,2000)の線
1000  2000             　　／　－始点座標(1000,2000)から終点座標(1000,1000)の線
1000  1000             　　　　／
空行

    連続線データの後に「"文字」で連続線端部に文字と点が作図され、
    「"数字"+増分」で「数字+増分」の値と点が次の端部に作図される
    （増分を省略すると増分は「1」になる）。
　　読込例「"１"+」、「"０"+2」、「"100"+(-1)」、「"点１"+」、「"P1"+」
　　このとき、数値は前の数値と同じ全角または半角の形式になる。
  0     0  "S
  0   100  "1"+
100   100


    ◎曲線属性化したソリッド図形データの読込み
#
lc10 65408
pl
sl -1000   500  1000   500   500  1000  -1000  1000
sl -1500 -1000  1000 -1000  1000   500  -1500   500
sc   500   500   500  1  0  0  1.5707963267949    5
sc -1250   750   250  1  0  0 -1.5707963267949   -1
#

    ◎相対座標による線データ読込み
r1
x1  y1      基準点から(x1,y1)点までの線を作図する。
x2  y2      (x1,y1)点から(x2,y2)の距離を移動した点までの線を作図する。
            （空行で指定解除）

r11         ２桁の数にすると前に作図した線を座標軸として(x2,y2)の
            距離を移動した点までの線を作図する。

r0          相対座標による作図を解除

          ○｢r11｣による１辺が１０ｍの四角形のデータ例
by 1000
r11
10  0
 0 10
 0 10
 0 10


    ◎極座標による線データ読込み
k1
θ  L1      基準点から極座標(θ,L1)点までの線を作図する。
θ  L2      (θ,L1)点から極座標(θ,L2)の距離を移動した点までの線を作図する。
            極座標の角度(θ)は画面Ｘ軸に対する角度になる。
            （空行で指定解除）

k2          １の位の数を2にすると度分秒の読込みになる。
            [30.03033]を30度3分3.3秒として読込む。(小数点以下の0は省略不可)
k-2         [k]に続く数値が－値の場合、角度は右回りが正となる。
k11         極座標の角度(θ)は前線の始点から終点方向に対しての角度になる。
k21         極座標の角度(θ)は前線の終点から始点方向に対しての角度になる。

          ○｢k11｣による１辺が１０ｍの四角形のデータ例
by 1000
k11
 0 10
90 10
90 10
90 10


＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ｷﾘﾄﾘ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
@rem 項目選択のバッチファイル例 (三斜面積)                                 
@echo off
rem
rem  -------------------【バッチファイル実行の記述】-----------------------
rem  項目選択の場合、選択番号(1～9)が「%1」に代入されてﾊﾞｯﾁﾌｧｲﾙが実行される。
rem  したがって、他のｵﾌﾟｼｮﾝ等の設定は「%2」以降に代入されるので注意が必要。
rem  （この例では「%1」をgoto文のラベル（実行時のラベル）として使用している。）
rem
rem
GOTO  EXE-%1
rem
rem              （次の行が項目１の実行時のラベル）
:EXE-1
JWW_SMPL.EXE  %2 %3 %4 %5 %6 %7 %8   /S
GOTO  END
rem
rem              （次の行が項目２の実行時のラベル）
:EXE-2
JWW_SMPL.EXE  %2 %3 %4 %5 %6 %7 %8   /S /T1 /E1 /H1
GOTO  END
rem
rem
REM  -------------【JW_CADが参照するバッチファイルの記述】---------------
REM
REM      ◎ＪＷ＿ＣＡＤ用外部プログラムの宣言
REM #jw
REM
REM      ◎実行時、外部変形用バッチファイルがあるディレクトリをカレントにする
REM       「REM #cd」は次の項目選択(REM #hm)の記述より前に記述する
REM #cd
REM
REM      ◎項目選択メッセージの設定（最大項目数は９まで）
REM #hm三斜面積計算 |寸法､表|表､辺､円､点|
REM #hc 作図画面内の左ｸﾘｯｸで項目(1)　右ｸﾘｯｸで項目(2)
REM
REM     　選択項目は「REM #hm」に続けて半角｢|｣と｢|｣の間に記載する。項目番号
REM     （1～9の範囲）に対応する参照用ラベル（#:1～#:9）を必ず記載する。作図
REM     |##|を記載すると、その項目は実行時に表示されない。
REM     画面内のﾏｳｽ左ｸﾘｯｸで項目(1)、右ｸﾘｯｸで項目(2)の選択になる。
REM       「REM #hm」より前に書かれた「REM #hc」に続く文字は項目選択時のコメ
REM     ント表示になる。
REM     　JW_CADでの実行順序は次のようになる。
REM     1)バッチファイルの項目選択の記述を参照して項目を選択する。
REM     2)選択項目に対応したバッチファイルの参照用ラベル位置を検索する。
REM     3)参照用ラベルの次の行から「#e」までのバッチファイルの内容を参照する。
REM     4)参照した内容に従ってデータ選択、オプション設定等をJW_CADが実行する。
REM     5)外部変形に移行する（実際にこのバッチファイルを実行する）。
REM
REM
REM #:1           項目１の参照用ラベル　　 |寸法､表|
REM #h1
REM #hc 【 三 斜 計 算 】 三角形を選択（三角形の辺 200 まで）
REM #g1
REM #1 数値書き込み位置指示　   (L)free (R)Read 
REM #c 初期番号指定( 1～8001  無指定:1 ) : /_/N
REM #c レイヤ指定( 0～F 無指定:書込ﾚｲﾔ ) : /_/L
REM        #c 小数点以下有効桁数(0～3 無指定:2）: /_/K
REM
REM        ◎実行時の起動オプションの指定を項目選択で行う（最大項目数は9まで）
REM　　　　　「REM #i」又は「REM #k」と「/_**」の間の文字が表示される。選択
REM          項目は半角記号文字「|」と「|」の間に記載する。
REM　　　　　項目が表示されているボタン（1～9の範囲）を押すと、起動オプション
REM          にその番号（1～9）が代入される。
REM　　　　　「REM #i」の場合、作図画面内のﾏｳｽｸﾘｯｸで起動オプションが無指定
REM　　　　　「REM #k」の場合、作図画面内のﾏｳｽ左ｸﾘｯｸで項目(1)の指定
REM　　　　　　　　　　　　　　作図画面内のﾏｳｽ右ｸﾘｯｸで項目(2)の指定になる。
REM　　　　　　
REM #i 小数点以下桁数(作図画面内のﾏｳｽｸﾘｯｸで無指定:2)|１ 桁|２ 桁|３ 桁|/_/K
REM            
REM          #k 小数点以下有効桁数|１桁 ﾏｳｽ(L)|２桁 ﾏｳｽ(R)| ３  桁 |/_/K
REM #c&&
REM #e
rem
REM #:2           項目２の参照用ラベル　　 |表､辺､円､点|
REM #h1
REM #hc 【三斜計算】三角形を選択（三角形の辺200まで）
REM #hc                寸法､表､辺､円､点を作図
REM #g1
REM #1 数値書き込み位置指示　(L)free (R)Read
REM #c 書込レイヤ指定( 0～F 無指定:現書込ﾚｲﾔ) : /_/L
REM #e
REM
REM           三斜計算の場合の追加オプション(指定ﾚｲﾔに作図)
REM           /M*  :文字種類を指定、       ｢*｣ は文字種類 No (無指定:2）
REM           /T*  :三角形頂点に点を作図、 ｢*｣ は  点種類 No (無指定:1）
REM           /E*.*:三角形頂点に円を作図、 ｢*.*｣ は円半径 mm (無指定:1.0）
REM           /H*  :三角形の辺を作図、     ｢*｣ は  線色   No (無指定:1）
REM           /C   :指定小数点以下桁数未満を切捨で寸法値作図 (無指定:四捨五入)
REM           /S   :敷地面積（小数点以下３桁を切り捨て）を作図
rem
rem
rem
:END
echo on
REM 終了
@REM （以下の行は削除してください。）
REM 外部変形用バッチファイルのプロパティーで
REM 「プログラム終了時にウィンドウを閉じる」
REM を設定しておくと外部変形用バッチファイル
REM の終了と同時にＪＷ＿ＷＩＮに戻ります。        

